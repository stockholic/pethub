<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.pethub.webapp.admin.board.dao.PetInfoDao">

	<select id="selectPetInfoCount" resultType="int">
	SELECT count(1) FROM pet_info
	WHERE  1=1
	
	<if test="searchString != null  and searchString != ''">
	AND title like '%' #{searchString} '%'
	</if>
	</select> 


	<select id="selectPetInfoList" resultType="kr.pethub.webapp.admin.board.model.PetInfo">
	SELECT
		pet_srl 
		,title
		,reg_dt
	FROM pet_info t1
	WHERE 1=1
	
	<if test="searchString != null  and searchString != ''">
	AND title like '%' #{searchString} '%'
	</if>
	
	ORDER BY pet_srl DESC
	LIMIT #{rowStart},#{rowSize}
	</select>
	
	<select id="selectPetInfo" resultType="kr.pethub.webapp.admin.board.model.PetInfo">
	SELECT
		pet_srl
		,title
		,cts1
	FROM pet_info t1 
	WHERE pet_srl = #{petSrl} 
	</select>
	
	<insert id="insertPetInfo" useGeneratedKeys="true" keyProperty="petSrl">
	INSERT INTO pet_info(
		,title
		,cts1
		,reg_dt
	)VALUES(
		,#{title}
		,#{cts1}
		,SYSDATE()
	)
	</insert> 
	
	<update id="updatePetInfo">
	UPDATE pet_info SET 
		title = #{title}
		,cts1 = #{cts1}
	WHERE pet_srl = #{petSrl}
	</update> 

	<delete id="deletePetInfo">
	DELETE FROM pet_info  WHERE pet_srl = #{petSrl} 
	</delete>
	
	
	<!-- 
	CREATE TABLE `pet_info` (
	  `pet_srl` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '일련번호',
	  `title` varchar(200) DEFAULT NULL COMMENT '제목',
	  `cts1` tinytext COMMENT '내용1',
	  `cts2` tinytext COMMENT '내용2',
	  `cts3` tinytext COMMENT '내용3',
	  `cts4` tinytext COMMENT '내용4',
	  `reg_dt` datetime DEFAULT NULL COMMENT '등록일',
	  `upt_dt` datetime DEFAULT NULL COMMENT '수정일',
	  PRIMARY KEY (`pet_srl`)
	) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='펫정보';
		
	 -->

</mapper>  